{% extends "layout.html" %}
{% block body %}
	<script type=text/javascript>
		$(document).keydown(function(e) {
		    if(e.which == 40) {
		    	e.preventDefault()
		    	if ($(".fic_li.active").nextAll("li").length !== 0) {
		    		$(".fic_li.active").removeClass('active').nextAll("li:first").addClass('active');
		    	}
		    	if ($(".fic_li.active").length !== 0) {
			    	$('html, body').stop(true, true).animate({
	        			scrollTop: $(".fic_li.active").offset().top - 50
	    			}, 1000);
				}
		    }
		    if(e.which == 38) {

		    }
		});
	</script>
  <div class="collapse" id="filters">
  <form action="" method="get" name="filters">
  	<div class="form-group">
  	Word Count: {{ form.word_cnt(size=80, class="form-control") }}
  	{% for error in form.word_cnt.errors %}
      <span style="color: red;">[{{error}}]</span>
        {% endfor %}<br>
    Genre: {{ form.genre(class="form-control") }}
    Characters: {{ form.characters(class="form-control") }}
    Pairings: {{ form.pairings(class="form-control") }}
  	<input class="btn btn-default" type="submit" value="Go">
  </div>
  </form>
	</div>
	{% include 'pagination.html' %}
  <ul class=ficlist>
  {% for fic in fics.items %}
  	{% with %}
  	{% set first = loop.first %}
    {% include "fic.html" %}
    {% endwith %}
    <hr>
  {% endfor %}
  </ul>
  {% include 'pagination.html' %}
{% endblock %}
